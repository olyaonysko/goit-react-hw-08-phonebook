(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{176:function(t,e,n){t.exports={form:"ContactForm_form__86UJW",label:"ContactForm_label__30rzo",input:"ContactForm_input__2mcNb",button:"ContactForm_button__1SWMg ContactForm_input__2mcNb",errors:"ContactForm_errors__12c83"}},177:function(t,e,n){t.exports={list:"ContactList_list__1Ag69",listItem:"ContactList_listItem__jRzhx",button:"ContactList_button__nFs2n"}},180:function(t,e,n){t.exports={label:"Filter_label__1wtry",input:"Filter_input__1pcw2"}},206:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return U}));var c={};n.r(c),n.d(c,"getContacts",(function(){return m})),n.d(c,"addContact",(function(){return O})),n.d(c,"deleteContact",(function(){return p})),n.d(c,"editContact",(function(){return h}));var r={};n.r(r),n.d(r,"getContacts",(function(){return x})),n.d(r,"getFilter",(function(){return _})),n.d(r,"getIsLoading",(function(){return g})),n.d(r,"getVisibleContacts",(function(){return v})),n.d(r,"getContactEdit",(function(){return w}));var a=n(2),o=n(0),s=n(12),u=n(32),i=n(157),l=n(10),b=n(25),d=n.n(b),j=n(36),f=n(46),m=function(){return function(){var t=Object(j.a)(d.a.mark((function t(e){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(l.fetchContactsRequest)()),t.prev=1,t.next=4,Object(f.b)();case 4:n=t.sent,c=n.data,e(Object(l.fetchContactsSuccess)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(l.fetchContactsError)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(j.a)(d.a.mark((function e(n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(l.addContactRequest)()),e.prev=1,e.next=4,Object(f.a)(t);case 4:c=e.sent,r=c.data,n(Object(l.addContactSuccess)(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(l.addContactError)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(t){return function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(l.deleteContactRequest)()),e.prev=1,e.next=4,Object(f.c)(t);case 4:n(Object(l.deleteContactSuccess)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(l.deleteContactError)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(j.a)(d.a.mark((function e(n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(l.editContactRequest)()),e.prev=1,e.next=4,Object(f.d)(t);case 4:c=e.sent,r=c.data,console.log(r),n(Object(l.editContactSuccess)(r)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(l.editContactError)(e.t0.message)),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},C=n(44),x=function(t){return t.contacts.contacts},_=function(t){return t.contacts.filter},g=function(t){return t.contacts.isLoading},v=Object(C.a)([x,_],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),w=function(t){return t.contacts.edit},k=n(173),F=n.n(k),N=(n(175),n(23)),y=n(176),E=n.n(y),L=n(140);function q(){var t=Object(s.b)(),e=Object(s.c)(r.getContacts),n=Object(s.c)(r.getContactEdit),b=Object(i.b)(),d=b.register,j=b.handleSubmit,f=b.errors,m=b.reset,O=b.control,p=b.setValue;Object(o.useEffect)((function(){n&&(p("name",n.name),p("number",n.number))}),[n,p]);return Object(a.jsxs)("form",{onSubmit:j((function(r){if(n){var a=Object(u.a)(Object(u.a)({},r),{},{id:n.id});return m(),t(l.addContactEdit(null)),void t(c.editContact(a))}e.find((function(t){return t.name.toLowerCase()===r.name.toLowerCase()}))?N.b.info("\ud83d\ude44 ".concat(r.name," is already in contacts!")):e.find((function(t){return t.number===r.number}))?N.b.info("This number is already in contacts!"):(t(c.addContact(r)),m())})),children:[Object(a.jsxs)("label",{className:E.a.label,children:["Name",Object(a.jsx)("input",{type:"text",name:"name",ref:d({minLength:{value:2,message:"Too short name"},maxLength:{value:20,message:"Too long name"},required:"Is a required field"}),className:E.a.input,placeholder:"Enter name"}),f.name&&Object(a.jsx)("p",{className:E.a.errors,children:f.name.message})]}),Object(a.jsxs)("label",{className:E.a.label,children:["Number",Object(a.jsx)(i.a,{as:F.a,name:"number",rules:{required:"Phone number is required"},defaultValue:"",control:O,className:E.a.input,placeholder:"+38 (___) ___-__-__",mask:"+38 (999) 999-99-99"}),f.number&&Object(a.jsx)("p",{className:E.a.errors,children:f.number.message})]}),Object(a.jsx)(L.a,{type:"submit",variant:"contained",color:"secondary",children:n?"Edit":"Add contact"})]})}var S=n(204),I=n(178),R=n.n(I),V=n(179),A=n.n(V),J=n(177),T=n.n(J),z=function(){var t=Object(s.c)(r.getVisibleContacts),e=Object(s.c)(r.getContacts),n=Object(s.b)();return Object(a.jsx)(a.Fragment,{children:e.length>0?Object(a.jsx)("ul",{className:T.a.list,children:t.map((function(t){return Object(a.jsxs)("li",{className:T.a.listItem,children:[Object(a.jsxs)("p",{children:[t.name,": ",t.number]}),Object(a.jsxs)("div",{className:T.a.button,children:[Object(a.jsx)(S.a,{edge:"end","aria-label":"delete",onClick:function(){return n(c.deleteContact(t.id))},children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(S.a,{edge:"end","aria-label":"delete",onClick:function(){return n(l.addContactEdit(t))},children:Object(a.jsx)(A.a,{})})]})]},t.id)}))}):Object(a.jsx)("p",{children:"Your phonebook is empty. Add contact."})})},P=n(180),W=n.n(P),M=function(){var t=Object(s.c)(r.getFilter),e=Object(s.c)(r.getContacts),n=Object(s.b)();return Object(a.jsx)(a.Fragment,{children:e.length>1&&Object(a.jsxs)("label",{className:W.a.label,children:["Find contacts by name",Object(a.jsx)("input",{type:"text",className:W.a.input,placeholder:"Enter name",value:t,onChange:function(t){return n(l.changeFilter(t.target.value))}})]})})};function U(){var t=Object(s.b)();return Object(o.useEffect)((function(){return t(c.getContacts())}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Phonebook"}),Object(a.jsx)(q,{}),Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(M,{}),Object(a.jsx)(z,{})]})}}}]);
//# sourceMappingURL=contactsPage.f82a2ede.chunk.js.map